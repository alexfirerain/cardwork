 # Сервис перевода денег **CardWork**
 
 
**"CardWork"** ‒ это REST-сервис для осуществления и журналирования денежных переводов в согласованной работе с клиентским веб-приложением в соответствии со спецификацией "[Money Transfer Service Specification](https://github.com/netology-code/jd-homeworks/blob/master/diploma/MoneyTransferServiceSpecification.yaml)". Работа программного комплекса денежных переводов состоит во взаимодействии двух независимых приложений: передовое (клиентское) веб-приложение (["Card Transfer"](https://github.com/serp-ya/card-transfer)) и тыловое (серверное) приложение-сервис (**данный проект**).

 ### Запуск программного комплекса
Как клиентская, так и серверная часть могут быть запущены несколькими способами: на локальной машине как самостоятельные скомпилированные приложения либо как докер-контейнеры, а клиентское веб-приложение также может быть запущено удалённо (в частности оно доступно по адресу https://serp-ya.github.io/card-transfer/). Для запуска программного комплекса как двух приложений ОС должна поддерживать Java и NodeJS, для запуска через докер-контейнеры ‒ поддерживать Docker.

Рекомендуемый способ запуска ‒ через "Докер-Компоуз" командой `docker-compose up` в корневой папке **проекта**, которая запускает на локальной машине докер-контейнеры с передовой и тыловой частями, обеспечивая согласованность их настроек. Предполагается, что проект "Card-Transfer" также присутствует на машине по адресу, отражённому в `docker-compose.yml`, и имеет адекватный `Dockerfile`. **"CardWork"** запускается на порту 5500, "Card-Transfer" запускается на порту 3000.

При необходимости модификации параметров запуска программного комплекса необходимые изменения могут быть сделаны в конфигурационных файлах приложений (либо созданы дополнительные профили настроек). Настройки **данного проекта** содержатся в `application.yml`:

* `server: port` ‒ порт, на котором **"CardWork"** ожидает запросов;
* `logging: file: name` ‒ адрес журнала переводов (относительно корня проекта);
* `application: commission` ‒ размер взымаемой при переводах комиссии (как число двойной точности, где 0,01 означает 1%);
* `application: front-url` ‒ адрес, по которому запущено передовое веб-приложение, локальный (например `"http://localhost:3000"`) или удалённый (например `"https://serp-ya.github.io"`).

## Принцип работы и архитектура проекта

**Приложение-сервис** принимает от передового приложения запросы на перевод денежных средств и запросы на подтверждение запрошенного перевода в формате json согласно спецификации "[Money Transfer Service Specification](https://github.com/netology-code/jd-homeworks/blob/master/diploma/MoneyTransferServiceSpecification.yaml)".

#### Модель предметной области

Приложение работает с запросами на перевод, содержащими необходимые данные: номер, срок действия и CVV карты отправителя, номер карты получателя и предмет перевода, оформленный как вложенный объект, состоящий из идентификатора валюты перевода и суммы перевода в центовых единицах (т.е. копейках). Минимальная величина суммы перевода равна 1 копейке, максимальная в копейках ограничена ёмкостью типа `int`. В модели **"CardWork"** этому запросу соответствует класс [Перевод](src/main/java/ru/netology/cardwork/model/Transfer.java) (с вложенным классом СуммаПеревода).

Сведения о карте отправителя представлены внутри класса Перевод в виде класса [Карта](src/main/java/ru/netology/cardwork/model/Card.java). 

#### Сервис переводов

#### Эмуляция банковских операций

